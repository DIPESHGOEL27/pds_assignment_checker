#include <stdio.h>
/*
Name : Vankudoth Pavan
Department : Chemical Engineering
Roll No : 21CH10075
Package : Code blocks
Operating system : Windows
*/

void larg_sum(int ints[],int n)
{
    int i,j,sum,maxsum=ints[0],subarr[3*n],ind=0;
    subarr[ind++]=ints[0];
    subarr[ind++]=subarr[ind++]=0;
    for (i=0;i<n;i++){
        sum=ints[i];
        if (sum>maxsum){
           maxsum=sum;
           subarr[ind-3]=maxsum;
           subarr[ind-2]=i;
           subarr[ind-1]=i;
        }
        else if (sum==maxsum){
            subarr[ind++]=maxsum;
            subarr[ind++]=i;
            subarr[ind++]=i;
        }
        for (j=i+1;j<n;j++){
            sum+=ints[j];
            if (sum>maxsum) {
                maxsum=sum;
                subarr[ind-3]=maxsum;
                subarr[ind-2]=i;
                subarr[ind-1]=j;
            }
            else if (sum==maxsum){
                subarr[ind++]=maxsum;
                subarr[ind++]=i;
                subarr[ind++]=j;
            }
        }
    }
    printf("Largest sum : %d\n",subarr[ind-3]);
    printf("Sub-arrays : ");
    for (i=subarr[ind-2];i<=subarr[ind-1];i++) printf(" %d",ints[i]);
    for (i=0;i<ind-5;i=i+3){
        if (subarr[i]==maxsum) {
            printf(" or ");
            for (j=subarr[i+1];j<=subarr[i+2];j++) printf(" %d",ints[j]);
        }
    }
}

int main()
{
    const int n;
    printf("Enter n : ");
    scanf("%d",&n);
    int ints[n],i,j,maxsum=0,sum,start,end;
    printf("Enter elements : ");
    for (i=0;i<n;i++) scanf("%d",ints+i);
    larg_sum(ints,n);
}
